# 角色功能划分设计

## 1. 角色定义

### 1.1 管理员（ADMIN）
- **核心职责**：系统管理、设备管理、用户管理
- **特点**：功能全面，操作权限高

### 1.2 普通用户（USER）
- **核心职责**：查看自己的药品和设备，接收服药提醒
- **特点**：界面简洁，操作简单，适合老年人使用

## 2. 功能划分

### 2.1 共享功能
| 功能 | 描述 | 管理员 | 用户 |
|------|------|--------|------|
| 药品查看 | 查看药品列表 | ✅ | ✅ |
| 服药提醒 | 接收服药提醒通知 | ✅ | ✅ |
| 设备状态查看 | 查看设备在线状态 | ✅ | ✅ |

### 2.2 管理员专属功能
| 功能 | 描述 |
|------|------|
| 用户管理 | 添加、编辑、删除用户 |
| 设备管理 | 添加、编辑、删除设备 |
| 设备分配 | 将设备分配给用户 |
| 全局通知管理 | 查看和管理所有通知 |
| 系统设置 | 系统级别的配置 |
| 设备监控 | 实时监控设备状态 |
| 配置同步 | 管理设备配置同步 |
| 数据统计 | 查看系统使用统计 |

### 2.3 用户专属功能
| 功能 | 描述 |
|------|------|
| 简化药品查看 | 简洁的药品列表，大字体 |
| 服药记录 | 查看历史服药记录 |
| 一键求助 | 紧急情况下的求助功能 |
| 个人设置 | 修改个人信息和偏好 |

## 3. 界面设计原则

### 3.1 管理员界面
- 功能全面，布局紧凑
- 支持批量操作
- 提供详细的数据统计和报表
- 专业的管理风格

### 3.2 用户界面
- 简洁明了，减少操作步骤
- 大字体，高对比度
- 清晰的服药提醒
- 一键式操作
- 友好的引导提示
- 紧急求助按钮

## 4. 技术实现

### 4.1 后端
- Spring Security 实现权限控制
- JWT 认证
- 基于角色的API访问控制

### 4.2 前端
- React Router 实现路由隔离
- 根据角色动态生成菜单
- 不同的主题和布局
- 响应式设计

## 5. 交互流程

### 5.1 登录流程
1. 用户输入用户名和密码
2. 后端验证并返回JWT令牌
3. 前端存储令牌并解析角色信息
4. 根据角色跳转到对应的首页

### 5.2 权限验证流程
1. 前端请求API时携带JWT令牌
2. 后端拦截器验证令牌有效性
3. 检查用户角色是否有权限访问该API
4. 允许或拒绝请求
